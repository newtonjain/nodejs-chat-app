/**
 * This module provides a TypeScript interface for proxies used by the tracing module.
 *
 * @module tracing/IProxy
 */

import {IConfigSettings} from './../configuration/IConfigSettings';

export interface IProxy {

    /**
     * Initializes the module
     *
     * @param {object} module - The instance of the module to proxy
     * @param {string} resolvedModulePath - The full resolved path of the module,
     *      i.e. the output of require.resolve('foo')
     */
    init(module, resolvedModulePath: string);

    /**
     * The name of the modules that this proxy supports, as passed to `require()`.
     * This is used to tell the Module Loader which modules this proxy is
     * capable of proxying
     *
     * @returns {string[]} - The list of modules this proxy supports
     */
    getModuleNames(): string[];

    /**
     * Whether or not the module should be initialized immediately upon load
     *
     * @type {boolean}
     */
    forceLoadModule: boolean;

    /**
     * returns true if the proxy is enabled for the given module name.
     */
    isEnabledForModule(moduleName: string, configSettings: IConfigSettings): boolean;
}
