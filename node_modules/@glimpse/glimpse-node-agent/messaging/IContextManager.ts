'use strict';

import * as http from 'http';

export interface IRunInContextCallback {
    (context: IContext);
}

export interface IWrappedCallback {
    /*tslint:disable:no-any */
    (...params): any;
    /*tslint:disable:no-any */
}

export interface IContext {
    id: string;
    type: string;
    startTime;
    req: http.IncomingMessage;
}

export interface IContextManager {
    currentContext(): IContext;
    isWithinContext(): boolean;
    runInNewContext(req: http.IncomingMessage, callback: IRunInContextCallback);
    wrapInCurrentContext(callback: IWrappedCallback): IWrappedCallback;
    checkContextID(location: string, expectedContextID?: string);
}
