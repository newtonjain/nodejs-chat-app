'use strict';

import { IErrorReportingService } from './IErrorReportingService';
import { LoggingErrorReportingService } from './LoggingErrorReportingService';

//
// TODO:  this should follow a similiar pattern as ContextManager, but the names are  inconsistent.  Moreover, ContextManager 
// is mis-using "provider".  We should clean this up at some point.    
// 
export class ErrorReporting  {

    private static defaultInstance: IErrorReportingService;

    public static getService(): IErrorReportingService {
        if (!ErrorReporting.defaultInstance) {

            // TODO: support pulling this from a config file or command-line.
            ErrorReporting.defaultInstance = new LoggingErrorReportingService();
        }
        return ErrorReporting.defaultInstance;
    }
}
